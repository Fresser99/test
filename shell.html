<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>数字展厅 - 石之言</title>
    <link rel="stylesheet" href="shell.css">
</head>
<body>
    <!-- 页面容器 - 严格继承home页面尺寸和定位系统 -->
    <div class="frame-container page-shell" id="shell-page">
        
        <!-- 页面标题区域 -->
        <div class="shell-title-section">
            <h1 class="shell-chinese-title">数字展厅</h1>
            <p class="shell-english-title">Digital Exhibition</p>
        </div>

        <!-- 主要内容区域 -->
        <div class="main-content-area">
            <!-- 云冈石窟水平洞窟图 - 作为视觉锚点 -->
            <div class="grotto-diagram-wrapper">
                <img src="../assets/外轮廓.jpg" alt="云冈石窟水平洞窟图" class="grotto-diagram-image">

                <!-- SVG 洞口热区 -->
                <svg
                    xmlns="http://www.w3.org/2000/svg"
                    viewBox="0 0 1200 323"
                    class="grotto-hotspot-layer">

                    <!-- 19 窟 -->
                    <a xlink:href="19ku.html">
                        <polygon id="_19ku" class="hotspot" data-cave="19"
                            points="749.64 129.97 746 133 746 139.67 746 165.12 749.64 251.18
                                    781.15 251.18 781.15 205.12 798.12 179.67 798.12 126.94
                                    790.24 123.3 782.97 123.3 772.06 119.67 756.3 123.91
                                    749.64 129.97"/>
                    </a>

                    <!-- 18 窟 -->
                    <a xlink:href="18ku.html">
                        <polygon id="_18ku" class="hotspot" data-cave="18"
                            points="962.36 145.73 955.7 149.97 947.82 154.21 944.79 161.5
                                    944.79 171.18 944.79 181.49 944.79 196.64 941.76 202.09
                                    941.76 216.64 959.33 237.24 957.51 259.06 957.51 265.73
                                    990.24 265.73 990.24 248.76 990.24 242.7 1005.39 216.03
                                    1013.27 205.73 1013.27 185.42 1013.27 176.03 1018.12 169.36
                                    1018.12 161.5 1014.49 156.03 1008.42 155.42 1001.76 149.97
                                    994.49 145.73 986.61 145.73 977.51 145.73 962.36 145.73"/>
                    </a>

                    <!-- 21 窟 -->
                    <a xlink:href="21ku.html">
                        <path id="_21ku" class="hotspot" data-cave="21"
                            d="M396.91,119.67h-9.09l-8.49,3.63-4.24,9.7v16.36l-3.64,9.09
                               s-.6,12.73,0,14.55,4.25,15.15,4.25,15.15v3h35.15v-5.76
                               l4.85-11.21V151.79l2.42-6.06V114.21H407.21Z"/>
                    </a>

                    <!-- 20 窟 -->
                    <a xlink:href="20ku.html">
                        <polygon id="_20ku" class="hotspot" data-cave="20"
                            points="533.88 119.67 513.88 119.67 496.3 123.91 485.39 133.61
                                    477.51 145.73 468.42 152.7 463.58 161.5 458.12 191.18
                                    458.12 208.46 458.12 230.58 458.12 251.18 458.12 279.67
                                    474.49 289.36 504.18 286.33 541.76 286.33 610.85 278.45
                                    626.61 261.49 632.67 247.54 632.67 198.46 621.15 185.42
                                    603.58 161.5 583.58 133.61 562.97 123.3 533.88 119.67"/>
                    </a>

                    <!-- 17 窟 -->
                    <a xlink:href="17ku.html">
                        <polygon id="_17ku" class="hotspot" data-cave="17"
                            points="1123.58 152.7 1114.48 155.42 1109.64 169.97 1116.61 194.21
                                    1123.58 223.3 1116.61 231.79 1116.61 248.15 1113.27 265.73
                                    1147.82 268.76 1147.82 226.33 1162.97 197.85 1173.27 171.18
                                    1173.27 161.5 1167.82 152.7 1163.58 152.7 1150.24 145.73
                                    1129.64 145.73 1123.58 152.7"/>
                    </a>

                </svg>
            </div>

            <!-- 右侧数据面板 -->
            <div class="data-panel">
                <!-- 实时访客流量摘要 -->
                <div class="visitor-summary-panel">
                    <div class="summary-title">实时访客流量</div>
                    <div class="summary-item">
                        <span class="summary-label">当前总访客</span>
                        <span class="summary-value" id="visitCount">0</span>
                    </div>
                    <div class="summary-item">
                        <span class="summary-label">高峰时段</span>
                        <span class="summary-value" id="peakHour">14:00 - 16:00</span>
                    </div>
                    <div class="summary-item">
                        <span class="summary-label">平均停留时间</span>
                        <span class="summary-value" id="avgDwellTime">12分钟</span>
                    </div>
                </div>
            </div>
        </div>

        <!-- 图表区域 - 两个数据可视化区域 -->
        <div class="charts-section">
            <!-- 图表A: 访客流量随时间变化 -->
            <div class="chart-container chart-left">
                <div class="chart-title">访客流量随时间变化</div>
                <div id="flowChart" class="chart-canvas"></div>
            </div>

            <!-- 图表B: 空间分布 -->
            <div class="chart-container chart-right">
                <div class="chart-title">洞窟空间分布</div>
                <div id="spatialChart" class="chart-canvas"></div>
            </div>
        </div>
    </div>

    <!-- ============================================
         视差滚动转场区域 - 接续式章节式布局
         需要替换素材图片和文字
         ============================================ -->
    <!-- 视差转场主容器 - 接在shell页面内容后面 -->
    <section class="parallax-scene-wrapper">
        <div class="parallax-scene">
        <svg viewBox="0 0 4081 3264" xmlns="http://www.w3.org/2000/svg" class="parallax-svg" preserveAspectRatio="xMidYMid meet">
            <!-- 定义滤镜效果 -->
            <defs>

                <!-- =========================
                    轻模糊（仅用于素材16 / 17，如需要）
                    ========================= -->
                <filter id="blur-soft" x="-50%" y="-50%" width="200%" height="200%">
                    <feGaussianBlur in="SourceGraphic" stdDeviation="2"/>
                </filter>


                <!-- =========================
                    渐变遮罩（Mask）
                    规则：白 = 显示，透明 = 隐藏
                    ========================= -->

                <!-- 素材15：从下往上渐隐（用于远景消失） -->
                <linearGradient id="mask-gradient-15" x1="0%" y1="0%" x2="0%" y2="100%">
                    <stop offset="90%" stop-color="white"/>
                    <stop offset="100%" stop-color="rgba(255,255,255,0)"/>
                </linearGradient>

                <!-- 素材16：斜向渐隐 -->
                <linearGradient id="mask-gradient-16" x1="0%" y1="0%" x2="0%" y2="100%">
                    <stop offset="50%" stop-color="white"/>
                    <stop offset="100%" stop-color="rgba(255,255,255,0)"/>
                </linearGradient>

                <!-- 素材17：从上到下渐隐 -->
                <linearGradient id="mask-gradient-17" x1="0%" y1="0%" x2="0%" y2="100%">
                    <stop offset="50%" stop-color="white"/>
                    <stop offset="100%" stop-color="rgba(255,255,255,0)"/>
                </linearGradient>


                <!-- =========================
                    Mask 本体（绑定空间）
                    ========================= -->

                <mask id="mask-15">
                    <rect x="563" y="408" width="2560" height="1224"
                        fill="url(#mask-gradient-15)"/>
                </mask>

                <mask id="mask-16">
                    <rect x="2033" y="359" width="2048" height="2048"
                        fill="url(#mask-gradient-16)"/>
                </mask>

                <mask id="mask-17">
                    <rect x="421" y="684" width="1846" height="1846"
                        fill="url(#mask-gradient-17)"/>
                </mask>

            </defs>

            <mask id="m">
                <g class="mountBg">
                    <rect fill="#fff" width="100%" height="1252" x="-200" y="700" />
                    <image href="../assets/素材14mask.jpg" 
                        x="-200" y="-200" width="2560" height="1252"
                         />
                </g>
            </mask>
            <mask id="m2">
                <g class="mountBg">
                    <!-- <rect fill="#fff" width="100%" height="1252" x="-100" y="220" /> -->
                    <image href="../assets/素材14mask.jpg" 
                        x="-200" y="-200" width="2560" height="1252"
                        style="filter: invert(1);"
                         />
                </g>
            </mask>
                <!-- 【素材14】背景山峦 - 相对位置保留，尺寸自适应 -->
            <image class="mountBg" href="../assets/素材14.svg" xlink:href="../assets/素材14.svg" 
                   x="817" y="74" width="2560" height="1252" preserveAspectRatio="xMidYMid meet"/>
          
            
            
            
            <!-- 【素材15】中景山峦 - 保留模糊效果，添加从上到下渐变遮罩（往下变透明） -->
            <g filter="url(#blur-50)" class="parallax-layer mountMg-layer">
                <image class="mountMg" href="../assets/素材15.svg" xlink:href="../assets/素材15.svg" 
                       x="563" y="408" width="2560" height="1224" 
                       mask="url(#mask-15)" preserveAspectRatio="xMidYMid meet"/>
            </g>
            
            <!-- 【素材16】云层2 - 保留模糊效果，添加从上到下渐变遮罩（往下变透明） -->
            <g filter="url(#blur-34)" class="parallax-layer cloud2-layer">
                <image class="cloud2" href="../assets/素材16.svg" xlink:href="../assets/素材16.svg" 
                       x="2033" y="359" width="2048" height="2048" 
                       mask="url(#mask-16)" preserveAspectRatio="xMidYMid meet"/>
            </g>
            
            <!-- 【素材17】云层1 - 保留模糊效果，添加从上到下渐变遮罩（往下变透明） -->
            <g filter="url(#blur-32)" class="parallax-layer cloud1-layer">
                <image class="cloud1" href="../assets/素材17.svg" xlink:href="../assets/素材17.svg" 
                       x="421" y="684" width="1846" height="1846"
                       mask="url(#mask-17)" preserveAspectRatio="xMidYMid meet"/>
            </g>
            
            <!-- 【素材18】前景山峦 - 相对位置保留，尺寸自适应 -->
            <image class="mountFg" href="../assets/素材18.svg" xlink:href="../assets/素材18.svg" 
                   x="1352" y="774" width="2506" height="1410" preserveAspectRatio="xMidYMid meet"/>
            
            <!-- 【素材19】云层3 - 相对位置保留，尺寸自适应 -->
            <image class="cloud3" href="../assets/素材19.svg" xlink:href="../assets/素材19.svg" 
                   x="0" y="1187" width="2688" height="1315" preserveAspectRatio="xMidYMid meet"/>
            
            <g class="text-arrow-group" transform="translate(2040.5, 232)">
            <!-- 箭头 -->
            <polyline class="arrow" fill="#fff" points="-1,0 -1,39 -10,29 -10,32 0,42 10,32 10,29 1,39 1,0" />
            
             <g mask="url(#m2)">
                 <text fill="#fff" x="0" y="-30" class="parallax-text-1" text-anchor="middle">探索</text>
             </g>
            <!-- 底层：白色"探索" -->
           
            
            <!-- 顶层：mask 组（山峦上移后显示） -->
            <g mask="url(#m)">

                
                <!-- 深色"深入"文字 -->
                <text x="0" y="-30" fill="#162a43" class="parallax-text-2" text-anchor="middle">深入</text>
            </g>
            
            <rect id="arrow-btn" width="100" height="100" opacity="0" x="-50" y="-50" style="cursor:pointer"/>
        </g>
        </svg>
        </div>
    </section>
    
    <!-- 后续内容区域（可以添加下一个页面入口） -->
    <section class="next-section">
        <!-- 这里可以添加下一个页面的入口或内容 -->
    </section>

    <!-- GSAP 动画库 -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/gsap.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/ScrollTrigger.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/ScrollToPlugin.min.js"></script>
    <!-- ECharts 库 -->
    <script src="https://cdn.jsdelivr.net/npm/echarts@5/dist/echarts.min.js"></script>
    <!-- 页面脚本 -->
    <script src="shell.js"></script>
</body>
</html>
